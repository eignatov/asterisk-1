svn diff -r 252316:252317  http://svn.digium.com/svn/asterisk/branches/1.6.2/ >  bug-17017.patch
Index: cdr/cdr_sqlite3_custom.c
===================================================================
--- cdr/cdr_sqlite3_custom.c	(revision 252316)
+++ cdr/cdr_sqlite3_custom.c	(revision 252317)
@@ -220,7 +220,7 @@
 	}
 }
 
-static int sqlite3_log(struct ast_cdr *cdr)
+static int write_cdr(struct ast_cdr *cdr)
 {
 	int res = 0;
 	char *error = NULL;
@@ -321,7 +321,7 @@
 		}
 	}
 
-	res = ast_cdr_register(name, desc, sqlite3_log);
+	res = ast_cdr_register(name, desc, write_cdr);
 	if (res) {
 		ast_log(LOG_ERROR, "Unable to register custom SQLite3 CDR handling\n");
 		free_config(0);

Property changes on: .
___________________________________________________________________
Modified: trunk-merged
   - /trunk:1-182359,182408,182450,182525,182530,182553,182722,182847,183028,183057,183108,183117,183242,183244,183321,183511,183560,183652,183701,183766,183865,183914,184037,184043,184079,184147,184151,184219-184220,184280,184339,184344,184448,184512,184515,184531,184566,184628,184630,184639,184673,184677,184693,184726,184762,184838,184843,184910,184948,185072,185122-185123,185197,185261,185363,185469,185600,185604,185664,185772,185912,185953,186021,186060,186101,186175,186230,186286,186297,186321,186444-186447,186461,186720,186799,186833,186837,186842,186899,186928,186985,187046,187050,187302,187363,187381,187421-187424,187483,187488,187599,187674-187675,187721,187764,187906,188032,188067,188102,188206,188210,188247,188413,188470,188585,188647,188774,188836,188938,188947,189010,189077,189097,189137,189204,189278,189350,189464,189495-189516,189539,189771,189813,189911,189951,189993,190057,190093,190250,190287,190352,190371,190622,190663,190725-190726,190830,190861,190865,190904,190946,190993,191136,191219-191220,191283,191367,191489,191494,191560,191700,191775,191884,191955,192032,192059,192096,192132,192171,192214,192279,192318,192357,192387,192430,192462,192525,192634,192700,192736,192808,192861,192933,192938,193006,193077,193120,193194,193263,193274,193349,193387,193461,193502,193545,193614,193718,193756,193870,193954,193956,194057,194138,194209,194357,194430,194434,194496,194520,194635,194649,194714,194718,194722,194765,194833,194874,194945,194982,195021,195075,195089,195096,195162,195207,195316,195320,195369-195370,195449,195521,195636,195698,195839,195882,195995,196117,196377,196416,196456,196658,196721,196792,196843,196945-196946,196948,196988,197089,197209,197260,197335,197374,197467,197538,197543,197606,197621,197697,197828,197960,198000,198064,198072,198083,198146,198183,198186,198248,198285,198312,198371,198375,198437,198470,198626,198729,198791,198824,198856,199051,199139,199227,199298,199368,199588,199630,199743,199781,199818,199857,199957-199958,200039,200146,200254,200361,200477,200514,200689,200726,200764,200799,200841,200943,200946,200985,201056,201090,201223,201262,201344,201381,201445,201453,201458,201462,201531,201570,201610,201678,201783,201829,201904,201994,202183,202258,202262,202337,202343,202410,202415,202417,202497,202672,202761,202804,202840-202841,202925,202967,203037,203116,203258,203376,203381,203444,203672,203699,203702,203710,203721,203779,203802,203853,203909,203960,204247,204301,204440,204470,204475,204563,204710,204835,204948,205120,205151,205196,205216,205254,205291,205350,205410,205412,205479,205532,205600,205696,205770,205776,205780,205840,205878,205939,205985,206185,206280,206341,206386,206489,206567,206636,206702,206707,206768,206808,206868,206873,206877,206939,207029,207095,207156,207224,207255,207317,207361,207424,207680,207723,207854,207925,207946,208052,208113,208263,208383,208388,208464,208542,208548,208588,208593,208693,208706,208709,208749,208813,208848,208886,208924,209056,209098,209132,209197,209235,209256,209279,209317,209400,209516,209554,209711,209760-209761,209835,209839,209887,210190,210238,210564,210640,210817,210908,210914,210992,211040,211113,211232,211275,211347,211539,211584,211767,211876,211957,212027,212067,212113,212249,212431,212506,212581,212627,212758,212764,212857,212922,212939,213046,213093,213098,213113,213179,213216,213327,213404,213450,213454,213494,213560,213635-213738,213790,213833,213900,213904,213971,213975,214071,214152,214195,214199,214360,214466,214514,214518,214650,214696,214702,214819,214898,214945,215161,215222,215338,215462,215466,215479,215522,215567,215622,215665,215681,215758,215801,215838,215891,215955,216009,216092,216222,216264,216368,216437-216438,216506,216547,216551,216593-216594,216695,216805,216842,216993,217033,217074,217199,217286,217368,217445,217524,217593,217638,217730,217807,217916,217990,218050,218150,218184,218224,218295,218361,218430,218499-218504,218579,218586,218687,218731,218799,218868,218918,218933,219061,219139,219264,219304,219324,219371,219412,219451,219520,219587,219654,219721,219818,219987,220028,220100,220217,220289,220365,220586,220629,220718,220721,220833,220904,220906,221044,221085,221201,221266,221368,221432,221436,221484,221554-221589,221592,221697,221705,221777,221844,221920,221971,222030,222110,222176,222273,222298,222309,222351,222463,222543,222548,222692,222799,222873,222880,223088,223132,223136,223206,223215,223273,223330,223487,223652,223756,223832,224178,224261,224331,224446,224448,224562,224567,224671,224774,224856,225033,225307,225360,225445,225515,225582,225650,225912,226018,226099,226159,226305,226453,226532,226812,226890,227091,227162,227167,227238,227361,227368,227372,227712,227739,227829,227945,228015,228080,228145,228189,228191,228196,228268,228339,228410,228420,228441,228499,228548,228620,228693,228798,228858,229015,229050,229093,229168,229282,229351,229361,229460,229499,229670,229750,229912,229966,230039,230145,230247,230343,230381,230509,230583,230628,230726,230773,230877,230881,231095,231134,231189,231299,231491,231556,231602,231688,231692,231741,231867,231927,232008,232012,232091,232230,232269,232345,232351,232356,232576,232582,232657,232660-232661,232854,233046,233093,233100,233121,233280,233394,233472,233577,233611,233692,233718,233967,234008,234028,234051,234053,234055,234129,234210,234256,234380,234526,234572,234700,234855,234893,234897,235010,235053,235298,235422,235521,235573,235656,235660,235822,235941,236063,236186,236300,236358,236434,236510,236613,236667,236713,236802,236847,236893,236902,236982,237136,237319,237323,237327,237406,237410,237414,237494,237574,237656,237699,237839,237920,237968,238010,238134,238181,238231,238313,238361,238405,238412,238583,238630,238635,238754,238835,238916,239191,239308,239427,239473,239520,239571,239665,239712,239834,239839,239920,240039,240078,240129,240175,240226,240271,240411,240415,240499-240500,240548,240667,240717,240842,240887,241016,241230,241314,241366,241627,241714,241766,241938,242227,242424,242521,242719,242724,242729,242857,242904,242967-242971,243244,243266,243391,243482,243487,243571,243693,243780,243860,243943,244071,244243,244331,244393,244443,244505,244547,244927,245090,245497,245578,245624,245680,245727,245729,245793,245945,246022,246030,246070,246116,246200,246204,246546,246710,246899,246980,246985,247076,247169,247335,247423,247652,247736,247770,247787,247841,247914-247915,248003,248397,248584,248793,248861,248946,248952,249101,249187,249235,249405,249491,249538,249623,249672,249892-249893,249912,249925,249950,250037,250051,250246,250395,250481,250609,250730,250787,250913,250979,251262-251263,251475,251631,251679,251779,251877,251884,251946,251989,252088-252089
   + /trunk:1-182359,182408,182450,182525,182530,182553,182722,182847,183028,183057,183108,183117,183242,183244,183321,183511,183560,183652,183701,183766,183865,183914,184037,184043,184079,184147,184151,184219-184220,184280,184339,184344,184448,184512,184515,184531,184566,184628,184630,184639,184673,184677,184693,184726,184762,184838,184843,184910,184948,185072,185122-185123,185197,185261,185363,185469,185600,185604,185664,185772,185912,185953,186021,186060,186101,186175,186230,186286,186297,186321,186444-186447,186461,186720,186799,186833,186837,186842,186899,186928,186985,187046,187050,187302,187363,187381,187421-187424,187483,187488,187599,187674-187675,187721,187764,187906,188032,188067,188102,188206,188210,188247,188413,188470,188585,188647,188774,188836,188938,188947,189010,189077,189097,189137,189204,189278,189350,189464,189495-189516,189539,189771,189813,189911,189951,189993,190057,190093,190250,190287,190352,190371,190622,190663,190725-190726,190830,190861,190865,190904,190946,190993,191136,191219-191220,191283,191367,191489,191494,191560,191700,191775,191884,191955,192032,192059,192096,192132,192171,192214,192279,192318,192357,192387,192430,192462,192525,192634,192700,192736,192808,192861,192933,192938,193006,193077,193120,193194,193263,193274,193349,193387,193461,193502,193545,193614,193718,193756,193870,193954,193956,194057,194138,194209,194357,194430,194434,194496,194520,194635,194649,194714,194718,194722,194765,194833,194874,194945,194982,195021,195075,195089,195096,195162,195207,195316,195320,195369-195370,195449,195521,195636,195698,195839,195882,195995,196117,196377,196416,196456,196658,196721,196792,196843,196945-196946,196948,196988,197089,197209,197260,197335,197374,197467,197538,197543,197606,197621,197697,197828,197960,198000,198064,198072,198083,198146,198183,198186,198248,198285,198312,198371,198375,198437,198470,198626,198729,198791,198824,198856,199051,199139,199227,199298,199368,199588,199630,199743,199781,199818,199857,199957-199958,200039,200146,200254,200361,200477,200514,200689,200726,200764,200799,200841,200943,200946,200985,201056,201090,201223,201262,201344,201381,201445,201453,201458,201462,201531,201570,201610,201678,201783,201829,201904,201994,202183,202258,202262,202337,202343,202410,202415,202417,202497,202672,202761,202804,202840-202841,202925,202967,203037,203116,203258,203376,203381,203444,203672,203699,203702,203710,203721,203779,203802,203853,203909,203960,204247,204301,204440,204470,204475,204563,204710,204835,204948,205120,205151,205196,205216,205254,205291,205350,205410,205412,205479,205532,205600,205696,205770,205776,205780,205840,205878,205939,205985,206185,206280,206341,206386,206489,206567,206636,206702,206707,206768,206808,206868,206873,206877,206939,207029,207095,207156,207224,207255,207317,207361,207424,207680,207723,207854,207925,207946,208052,208113,208263,208383,208388,208464,208542,208548,208588,208593,208693,208706,208709,208749,208813,208848,208886,208924,209056,209098,209132,209197,209235,209256,209279,209317,209400,209516,209554,209711,209760-209761,209835,209839,209887,210190,210238,210564,210640,210817,210908,210914,210992,211040,211113,211232,211275,211347,211539,211584,211767,211876,211957,212027,212067,212113,212249,212431,212506,212581,212627,212758,212764,212857,212922,212939,213046,213093,213098,213113,213179,213216,213327,213404,213450,213454,213494,213560,213635-213738,213790,213833,213900,213904,213971,213975,214071,214152,214195,214199,214360,214466,214514,214518,214650,214696,214702,214819,214898,214945,215161,215222,215338,215462,215466,215479,215522,215567,215622,215665,215681,215758,215801,215838,215891,215955,216009,216092,216222,216264,216368,216437-216438,216506,216547,216551,216593-216594,216695,216805,216842,216993,217033,217074,217199,217286,217368,217445,217524,217593,217638,217730,217807,217916,217990,218050,218150,218184,218224,218295,218361,218430,218499-218504,218579,218586,218687,218731,218799,218868,218918,218933,219061,219139,219264,219304,219324,219371,219412,219451,219520,219587,219654,219721,219818,219987,220028,220100,220217,220289,220365,220586,220629,220718,220721,220833,220904,220906,221044,221085,221201,221266,221368,221432,221436,221484,221554-221589,221592,221697,221705,221777,221844,221920,221971,222030,222110,222176,222273,222298,222309,222351,222463,222543,222548,222692,222799,222873,222880,223088,223132,223136,223206,223215,223273,223330,223487,223652,223756,223832,224178,224261,224331,224446,224448,224562,224567,224671,224774,224856,225033,225307,225360,225445,225515,225582,225650,225912,226018,226099,226159,226305,226453,226532,226812,226890,227091,227162,227167,227238,227361,227368,227372,227712,227739,227829,227945,228015,228080,228145,228189,228191,228196,228268,228339,228410,228420,228441,228499,228548,228620,228693,228798,228858,229015,229050,229093,229168,229282,229351,229361,229460,229499,229670,229750,229912,229966,230039,230145,230247,230343,230381,230509,230583,230628,230726,230773,230877,230881,231095,231134,231189,231299,231491,231556,231602,231688,231692,231741,231867,231927,232008,232012,232091,232230,232269,232345,232351,232356,232576,232582,232657,232660-232661,232854,233046,233093,233100,233121,233280,233394,233472,233577,233611,233692,233718,233967,234008,234028,234051,234053,234055,234129,234210,234256,234380,234526,234572,234700,234855,234893,234897,235010,235053,235298,235422,235521,235573,235656,235660,235822,235941,236063,236186,236300,236358,236434,236510,236613,236667,236713,236802,236847,236893,236902,236982,237136,237319,237323,237327,237406,237410,237414,237494,237574,237656,237699,237839,237920,237968,238010,238134,238181,238231,238313,238361,238405,238412,238583,238630,238635,238754,238835,238916,239191,239308,239427,239473,239520,239571,239665,239712,239834,239839,239920,240039,240078,240129,240175,240226,240271,240411,240415,240499-240500,240548,240667,240717,240842,240887,241016,241230,241314,241366,241627,241714,241766,241938,242227,242424,242521,242719,242724,242729,242857,242904,242967-242971,243244,243266,243391,243482,243487,243571,243693,243780,243860,243943,244071,244243,244331,244393,244443,244505,244547,244927,245090,245497,245578,245624,245680,245727,245729,245793,245945,246022,246030,246070,246116,246200,246204,246546,246710,246899,246980,246985,247076,247169,247335,247423,247652,247736,247770,247787,247841,247914-247915,248003,248397,248584,248793,248861,248946,248952,249101,249187,249235,249405,249491,249538,249623,249672,249892-249893,249912,249925,249950,250037,250051,250246,250395,250481,250609,250730,250787,250913,250979,251262-251263,251475,251631,251679,251779,251877,251884,251946,251989,252088-252089,252314

